<!-- pages/settlement-view/settlement-view.wxml -->
<view class="page-container">
    <view class="top-bg"></view>
    <view class="content-wrapper">
    <!-- 结算建议 -->
    <view class="card card-shadow settlement-section">
        <view class="section-header">
            <text class="section-title">结算建议</text>
            <view class="header-actions">
                <text class="section-subtitle">共 {{settlements.length}} 条</text>
                <text class="finalized-tag" wx:if="{{isFinalized}}">已结算</text>
            </view>
        </view>
        <!-- 结算列表 -->
        <view class="settlement-list">
            <view wx:for="{{settlements}}" wx:key="_id" class="settlement-item">
                <view class="settlement-info">
                    <view class="party">
                        <view class="member-avatar payer">
                            <image wx:if="{{item.fromAvatarUrl}}" src="{{item.fromAvatarUrl}}" mode="aspectFill" />
                            <view wx:else class="text-avatar">{{item.fromShortName || '成员'}}</view>
                            <view class="avatar-badge">付</view>
                        </view>
                        <text class="member-name">{{item.fromName}}</text>
                    </view>
                    <view class="arrow-wrap"><text class="arrow">→</text></view>
                    <view class="party">
                        <view class="member-avatar receiver">
                            <image wx:if="{{item.toAvatarUrl}}" src="{{item.toAvatarUrl}}" mode="aspectFill" />
                            <view wx:else class="text-avatar">{{item.toShortName || '成员'}}</view>
                            <view class="avatar-badge receiver">收</view>
                        </view>
                        <text class="member-name">{{item.toName}}</text>
                    </view>
                    <view class="amount-chip">¥{{item.amount}}</view>
                </view>
            </view>
            <view class="empty-settlement" wx:if="{{settlements.length === 0}}">
                <text>暂无结算建议</text>
            </view>
        </view>
        <view class="btn-confirm" wx:if="{{showConfirmButton}}" bindtap="confirmSettlement">
            确认结算
        </view>
    </view>
    </view>
</view>